{% extends 'form_layout.html' %}

{% block head %}
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<script>
    function onSubmit(token) {
        console.log('on submit invokes')
        document.getElementById("apply-form").submit();
    }
</script>
<title>ISTEAM 부원 지원</title>
{% endblock %}

{% block content %}
<form action="?" method="post" id="apply-form">
    <p><span class="text-block">(1/2) 인적사항 작성</span> </p>
    {% csrf_token %}
    <div class="form">
        {% for field in form %}
        <p>
            <label class="form__label" for="{{ field.id_for_label }}">{{ field.label }}</label>
            <input class="form__text" type="{{ field.field.widget.input_type }}" id="{{ field.id_for_label }}" placeholder="{{ field.label }}" name="{{ field.name }}">
            {% if field.errors %}
                <div class="error-box">
                    <span style="color: red">{{ field.errors }}</span>
                </div>
            {% endif %}
        </p>
        {% endfor %}
        {% if form.is_valid %}
        <div style="color: red">
            <p>사용자를 찾을 수 없거나 잘못된 비밀번호 입니다.</p>
            <p>회원가입을 다시 진행하고 싶다면 운영진에게 문의해 주세요.</p>
        </div>
        {% endif %}
        <button class="form__submit btn user__btn-primary g-recaptcha" data-sitekey="6LdoyMYZAAAAAME6PL5CU64kJFUMwmOzG-oPn935" data-callback='onSubmit' data-action='submit'>다음 단계로(1/2)</button>
    </div>
</form>
{% endblock %}